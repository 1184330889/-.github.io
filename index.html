<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>权威速报 - DeepSeek R1</title>
    <style>
        body { font-family: '微软雅黑', sans-serif; max-width: 800px; margin: 20px auto; padding: 0 20px; }
        .loading { text-align: center; color: #666; padding: 50px; }
        .category { margin: 30px 0; }
        .news-item { margin: 15px 0; padding: 15px; background: #f8f9fa; border-radius: 8px; }
        .source { color: #d32f2f; font-size: 0.9em; }
        .title { color: #1a237e; margin: 8px 0; }
        .time { color: #666; font-size: 0.85em; }
    </style>
</head>
<body>
    <h1>🏛️ 权威速报</h1>
    <div id="news"><div class="loading">加载中...</div></div>

    <script>
        // 核心新闻源（实时更新）
        const sources = [
            {
                name: "时政",
                url: "https://rsshub.app/xinhua/news",
                filter: text => text.includes("习近平") || text.includes("国务院")
            },
            {
                name: "科技",
                url: "https://rsshub.app/miit/xxgk",
                filter: text => text.includes("人工智能") || text.includes("5G")
            },
            {
                name: "经济",
                url: "https://rsshub.app/people/finance"
            }
        ];

        async function fetchNews() {
            let html = '';
            
            for (const source of sources) {
                try {
                    const response = await fetch(source.url);
                    const xml = await response.text();
                    const parser = new DOMParser();
                    const doc = parser.parseFromString(xml, "text/xml");
                    
                    const items = Array.from(doc.querySelectorAll('item'))
                        .map(item => ({
                            title: item.querySelector('title').textContent,
                            link: item.querySelector('link').textContent,
                            pubDate: item.querySelector('pubDate').textContent,
                            source: item.querySelector('source')?.textContent || "官方发布"
                        }))
                        .filter(item => !source.filter || source.filter(item.title))
                        .slice(0, 3);  // 每类最多3条

                    html += `
                        <div class="category">
                            <h2>${source.name}</h2>
                            ${items.map(item => `
                                <div class="news-item">
                                    <div class="source">${item.source}</div>
                                    <div class="title">${item.title}</div>
                                    <div class="time">${new Date(item.pubDate).toLocaleString()}</div>
                                </div>
                            `).join('')}
                        </div>`;
                } catch (e) {
                    console.error(`${source.name}加载失败:`, e);
                }
            }

            document.getElementById('news').innerHTML = html || '<div style="color:red">数据加载失败，请稍后刷新</div>';
        }

        // 初始化加载
        fetchNews();
        // 每30分钟刷新
        setInterval(fetchNews, 1800000);
    </script>
</body>
</html>
